<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.10.xsd">

  <changeSet id="adjudication-engine-analysis-1.7.0_1" author="ahaczewski">
    <sqlFile
        path="sql/drop_function_unsolved_matches_query.sql"
        relativeToChangelogFile="true"/>
    <sqlFile
        path="sql/create_function_unsolved_matches_query.sql"
        relativeToChangelogFile="true"
        splitStatements="false"/>
  </changeSet>

  <changeSet id="adjudication-engine-analysis-1.7.0_2" author="ahaczewski">
    <dropView viewName="ae_alert_recommendation_query"/>
    <dropView viewName="ae_comments_match_context"/>
    <dropView viewName="ae_comments_feature_context"/>

    <createView
        viewName="ae_comments_feature_context"
        path="sql/view_ae_comments_feature_context_v3.sql"
        relativeToChangelogFile="true"/>

    <createView
        viewName="ae_comments_match_context"
        path="sql/view_ae_comments_match_context_v4.sql"
        relativeToChangelogFile="true"/>

    <createView
        viewName="ae_alert_recommendation_query"
        path="sql/view_ae_alert_recommendation_query.sql"
        relativeToChangelogFile="true"/>
  </changeSet>

</databaseChangeLog>
