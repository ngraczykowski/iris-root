silenteight:
  bridge:
    address: ${BRIDGE_ADDRESS:http://localhost:24805}

    ### GRPC PROPERTIES
    grpc:
      port: 24806
      recommendation:
        recommendation-deadline: 15m
      registration:
        governance-deadline: 1m
        adjudication-engine-deadline: 1m

    ### HTTP PROPERTIES
    http:
      port: 24805

### GRPC
grpc:
  server:
    port: ${silenteight.bridge.grpc.port}
  client:
    governance.address: static://localhost:24205
    adjudication-engine.address: static://localhost:24801
    GLOBAL:
      negotiation-type: PLAINTEXT

### HTTP
server:
  port: ${silenteight.bridge.http.port}
  http2:
    enabled: true

### AMQP
amqp:
  registration:
    number-of-retries-dead-messages: 3
    outgoing:
      notify-batch-error:
        exchange-name: notify-batch-error-exchange
      notify-batch-completed:
        exchange-name: notify-batch-completed-exchange
      verify-batch-timeout:
        exchange-name: verify-batch-timeout-exchange
      notify-batch-timed-out:
        exchange-name: notify-batch-timed-out-exchange
    incoming:
      match-feature-input-set-fed:
        exchange-name: match-feature-input-set-fed-exchange
        queue-name: match-feature-input-set-fed-queue
        dead-letter-queue-name: match-feature-input-set-fed.dlq
        dead-letter-queue-time-to-live-in-milliseconds: 10000
        dead-letter-exchange-name: match-feature-input-set-fed.dlx
        batch-size: 10
        batch-receive-timeout: 3s
      recommendation-received:
        queue-name: recommendation-received-queue
        dead-letter-queue-name: recommendation-received.dlq
        dead-letter-queue-time-to-live-in-milliseconds: 10000
        dead-letter-exchange-name: recommendation-received.dlx
      recommendation-delivered:
        exchange-name: recommendation-delivered-exchange
        queue-name: recommendation-delivered-queue
        dead-letter-queue-name: recommendation-delivered.dlq
        dead-letter-queue-time-to-live-in-milliseconds: 10000
        dead-letter-exchange-name: recommendation-delivered.dlx
      verify-batch-timeout:
        delay-time: 60m
        delayed-queue-name: verify-batch-timeout-delayed-queue
        queue-name: verify-batch-timeout-queue
        error-alerts-queue-name: error-alerts-verify-batch-timeout-queue
        queue-time-to-live-in-milliseconds: 10000
        dead-letter-exchange-name: verify-batch-timeout.dlx
  recommendation:
    number-of-retries-dead-messages: 3
    outgoing:
      recommendation-received:
        exchange-name: recommendation-received-exchange
    incoming:
      recommendations-generated:
        queue-name: recommendations-generated-queue
        dead-letter-queue-name: recommendations-generated.dlq
        dead-letter-queue-time-to-live-in-milliseconds: 10000
        dead-letter-exchange-name: recommendations-generated.dlx
        exchange-name: ae.event
        exchange-routing-key: ae.event.recommendations-generated
      notify-batch-timeout:
        queue-name: notify-batch-timeout-queue
        dead-letter-queue-name: notify-batch-timeout.dlq
        dead-letter-queue-time-to-live-in-milliseconds: 10000
        dead-letter-exchange-name: notify-batch-timeout.dlx

### SPRING
spring:
  application:
    name: core-bridge

  ### RABBITMQ
  rabbitmq:
    port: 5680
    username: dev
    password: dev
    listener:
      simple:
        retry:
          enabled: true
          initial-interval: 1000ms
          multiplier: 2

  ### CONSUL
  cloud:
    consul:
      config:
        enabled: false
      enabled: true
      host: localhost
      port: 8500
      discovery:
        enabled: true
        register: false
        register-health-check: false
      service-registry:
        auto-registration:
          enabled: false

  ### DATABASE
  datasource:
    username: core
    password: core
    url: jdbc:postgresql://localhost:24882/core_bridge

  ### LIQUIBASE
  liquibase:
    database-change-log-lock-table: core_bridge_liquibase_lock
    database-change-log-table: core_bridge_liquibase_log

### LOGGING
logging:
  level:
    org:
      springframework:
        jdbc: DEBUG
    liquibase: INFO

### REGISTRATION
registration:
  analysis:
    alert-ttl: 10m
    mock-recommendations-generation: true

### SENTRY
sentry:
  environment: unknown
  traces-sample-rate: 0
