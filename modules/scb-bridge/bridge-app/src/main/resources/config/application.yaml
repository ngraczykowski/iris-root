server:
  port: 24220
grpc:
  client:
    registration:
      address: static://localhost:24806
      negotiation-type: PLAINTEXT
    universal-data-source:
      address: static://localhost:24805
      negotiation-type: PLAINTEXT
  server:
    port: 24221

spring:
  cloud:
    consul:
      config:
        enabled: false
      enabled: false
      host: localhost
      port: 8500
      discovery:
        enabled: true
        register: false
        register-health-check: false
      service-registry:
        auto-registration:
          enabled: false
  # RABBITMQ
  rabbitmq:
    port: 24130
    username: serp
    password: serp

  batch:
    initialize-schema: never
    job:
      enabled: false

  datasource:
    password: cb
    username: cb
    url: jdbc:postgresql://localhost:24291/scb_bridge

  jpa:
    database: POSTGRESQL
    show-sql: false
    open-in-view: false

    hibernate:
      ddl-auto: none
      use-new-id-generator-mappings: true

    properties:
      hibernate:
        jdbc:
          fetch_size: 10
          batch_size: 10
        order_inserts: true
        order_updates: true

  application:
    name: scb-bridge

  quartz:
    properties:
      org:
        quartz:
          scheduler:
            instanceName: ScbBridgeScheduler

    jdbc:
      initialize-schema: never
    job-store-type: memory

  external:
    datasource:
      password: ${serp.gns.db.password}
      username: ${serp.gns.db.user}
      url: ${serp.gns.db.url}
      hikari:
        auto-commit: ${serp.gns.db.auto-commit}
        isolate-internal-queries: ${serp.gns.db.isolate-internal-queries}
        maximum-pool-size: ${serp.gns.db.connections.max:${serp.db.connections.max}}
        connection-init-sql: ${serp.gns.db.connection-init-query}
        minimum-idle: ${serp.gns.db.connections.min:${serp.db.connections.min}}
        pool-name: GNS-Pool

      hikari-on-demand:
        minimum-idle: ${serp.gns.db.connections.on-demand.min:${serp.db.connections.min}}
        isolate-internal-queries: ${serp.gns.db.isolate-internal-queries}
        connection-init-sql: ${serp.gns.db.connection-init-query}
        auto-commit: ${serp.gns.db.auto-commit}
        maximum-pool-size: ${serp.gns.db.connections.on-demand.max:${serp.db.connections.max}}
        pool-name: GNS-On-Demand-Pool

silenteight:
  scb-bridge:
    grpc:
      registration:
        registration-deadline: 1m
      universal-data-source:
        uds-deadline: 1m
serp:
  # GNS DB Configuration
  gns:
    db:
      password: 'CyevM34juNlBO'
      connection-init-query: SELECT 1 FROM DUAL
      auto-commit: false
      url: jdbc:oracle:thin:@${serp.gns.db.host}:${serp.gns.db.port}/${serp.gns.db.service.name}
      service:
        name: ORCLCDB
      user: LC_GNS_WEB_SIT_01
      port: 1521
      host: oracle.silenteight.com
      isolate-internal-queries: true
      connections:
        min: 1
        max: 30
        on-demand:
          max: 20
          min: 1

  # General Settings
  scb:
    bridge:
      config:
        time-zone: Asia/Hong_Kong
        chunk-size: 250
        query-timeout: 300
      alert:
        cleaner:
          offset: 1D
          cron-expression: 0 0 0 * * ?
        reader:
          solvedAlertsProcessingEnabled: false
      gns:
        solution:
          states:
            ANALYST_NO_SOLUTION: [ 0 ]

      solving:
        # Alert-Level Solving Job Configuration
        alert:
          enabled: false
          cron-expression: 0/6 * * * * ?
          ack-records: true
          db-relation-name: SENS_V_FFF_RECORDS
          cbs-hits-details-helper-view-name:

        # Watchlist-Level Solving Job Configuration
        watchlist:
          enabled: false
          cron-expression: 3/6 * * * * ?
          ack-records: true
          db-relation-name: SENS_V_FFF_RECORDS
          cbs-hits-details-helper-view-name:

      learning:
        #  Alert level Learning Job Configuration
        alert:
          enabled: false
          cron-expression: 0 0 3 ? * SUN
          db-relation-name: SENS_V_FFF_RECORDS
          cbs-hits-details-helper-view-name:

        # Watchlist level Learning Job Configuration
        watchlist:
          enabled: false
          cron-expression: 0 0 6 ? * SUN
          db-relation-name: SENS_V_FFF_RECORDS
          cbs-hits-details-helper-view-name:

        # ECM Learning Job Configuration
        ecm:
          enabled: false
          cron-expression: 0 0 9 ? * SUN
          db-relation-name: SENS_V_FFF_RECORDS
          cbs-hits-details-helper-view-name: ''
          decisions:
            - solution: ANALYST_TRUE_POSITIVE
              text: Risk Relevant
            - solution: ANALYST_FALSE_POSITIVE
              text: Risk Irrelevant - Activity in line with Business
          ecm-view-name: ECM

        # Queuing Jobs Configuration
        queuing:
          jobs:
            - ack-records: true
              enabled: false
              cron-expression: 0/30 * * * * ?
              hit-details-view: ''
              name: Watchlist-level queuing job (DENY)
              priority: 10
              records-view: SENS_V_FFF_RECORDS_DENY
              watchlist-level: true

            - ack-records: true
              enabled: false
              cron-expression: 3/30 * * * * ?
              hit-details-view: ''
              name: Watchlist-level queuing job (NON-DENY)
              priority: 1
              records-view: SENS_V_FFF_RECORDS_NON_DENY
              watchlist-level: true

            - ack-records: true
              enabled: false
              cron-expression: 5/30 * * * * ?
              hit-details-view: ''
              name: Alert-level queuing job (DENY)
              priority: 10
              records-view: SENS_V_FFF_RECORDS_DENY
              watchlist-level: false

            - ack-records: true
              enabled: false
              cron-expression: 7/30 * * * * ?
              hit-details-view: ''
              name: Alert-level queuing job (NON-DENY)
              priority: 1
              records-view: SENS_V_FFF_RECORDS_NON_DENY
              watchlist-level: false

# AMQP
amqp:
  feeding:
    outgoing:
      match-feature-input-set-fed:
        exchange-name: match-feature-input-set-fed-exchange