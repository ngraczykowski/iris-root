plugins {
  id "com.silenteight.iris.build.java-library"
}

description = "Serp Governance Common Web"

dependencies {
  // API dependencies
  api libs.commons.io
  api libs.jakarta.validation.api
  api libs.jakarta.annotation.api
  api libs.silenteight.sep.base.common
  api libs.sentry
  api libs.hibernate.validator
  api libs.spring.data.jpa
  api libs.jakarta.persistence.api
  api libs.spring.jdbc
  api libs.spring.tx

  api libs.spring.amqp
  api libs.spring.core
  api libs.spring.context
  api libs.guava

  api libs.jakarta.servlet.api
  api libs.spring.web
  api libs.spring.webmvc

  api libs.spring.security.config
  api libs.spring.security.core
  api libs.spring.security.web

  api libs.silenteight.commons.core

  api libs.silenteight.serp.protocol.base

  // General dependencies
  api libs.silenteight.audit.bs
  api libs.silenteight.audit.bs.api
  implementation libs.silenteight.audit.bs
  api libs.silenteight.sep.auth
  implementation libs.sear.rabbitmq.common.schema
  implementation libs.spring.boot.actuator
  // NOTE(dsniezek): Unfortunately, as parent of springdoc is spring-boot-starter-parent it brings
  //  incompatible versions of spring-boot-autoconfigure->spring-boot that have to be excluded for
  //  prevent conflict with version from spring-boot-dependencies.
  //  See: https://github.com/springdoc/springdoc-openapi/blob/v1.6.9/pom.xml#L35
  api(libs.springdoc.data.rest) {
    exclude group: 'org.springframework.boot', module: 'spring-boot-autoconfigure'
  }
  implementation(libs.springdoc.ui) {
    exclude group: 'org.springframework.boot', module: 'spring-boot-autoconfigure'
  }
  implementation(libs.springdoc.security) {
    exclude group: 'org.springframework.boot', module: 'spring-boot-autoconfigure'
  }

  implementation doNotUseLibs.vavr
  implementation libs.spring.cloud.starter.sleuth
}
