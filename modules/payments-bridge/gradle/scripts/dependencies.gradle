ext {
  libraries = [:]

  springBootVersion = "2.6.6"
  springCloudVersion = "2021.0.1"

  //***********************************
  // Silent Eight
  //***********************************
  adjudicationEngineApiVersion = "0.8.0"
  agentsApiVersion = "0.4.0"
  agentsProtocolVersion = "0.14.0"
  dataRetentionVersion = "0.3.0"
  governanceApiVersion = "1.7.0"
  learingEngineStoreApiVersion = "0.5.0"
  sepDependenciesVersion = "2.3.0"
  silenteightCommonsVersion = "2.1.0"
  silenteightDataSourceApiVersion = "0.18.0"
  silenteightSepBaseVersion = "1.12.2"
  warehouseProtocolVersion = "2.2.0"
  jacksonVersion = "2.13.0"

  //***********************************
  // Others libraries
  //***********************************
  shedlockVersion = "4.27.0"
}

// @formatter:off

// Silent Eight
libraries.adjudication_engine_api = [group: 'com.silenteight.adjudication.api', name: 'adjudication-api', version: adjudicationEngineApiVersion]
libraries.consul_grpc_registration = [group: 'com.silenteight.commons', name: 'consul-grpc-registration', version: '1.0.0']
libraries.data_source_api = [group: 'com.silenteight.sens.date-source-api', name: 'data-source-api', version: silenteightDataSourceApiVersion]
libraries.data_source_categories_api = [group: 'com.silenteight.sens.date-source-api', name: 'data-source-categories-api', version: silenteightDataSourceApiVersion]
libraries.data_source_comments_api = [group: 'com.silenteight.sens.date-source-api', name: 'data-source-comments-api', version: silenteightDataSourceApiVersion]
libraries.data_source_agentinput_api = [group: 'com.silenteight.sens.date-source-api', name: 'data-source-agentinput-api', version: silenteightDataSourceApiVersion]
libraries.governance_api = [group: 'com.silenteight.governance.api', name: 'se-governance-api', version: governanceApiVersion]
libraries.governance_model_api = [group: 'com.silenteight.governance.api', name: 'se-model-api', version: governanceApiVersion]
libraries.governance_solving_api = [group: 'com.silenteight.governance.api', name: 'se-solving-api', version: governanceApiVersion]
libraries.learning_engine_store_api = [group: 'com.silenteight.learningengine.api', name: 'learning-store-api', version: learingEngineStoreApiVersion]
libraries.agents_api = [group: 'com.silenteight.agent.api', name: 'agents-api', version: agentsApiVersion]
libraries.sear_rabbitmq_common_schema = [group: 'com.silenteight.rabbitmqcommonschema', name: 'sear-rabbitmq-common-schema-definitions', version: '1.9.0']
libraries.silenteight_commons_app = [group: 'com.silenteight.commons', name: 'silenteight-commons-app', version: silenteightCommonsVersion]
libraries.silenteight_commons_core = [group: 'com.silenteight.commons', name: 'silenteight-commons-core', version: silenteightCommonsVersion]
libraries.silenteight_sep_base_aspects = [group: 'com.silenteight.sep.base', name: 'sep-base-aspects', version: silenteightSepBaseVersion]
libraries.silenteight_sep_base_common = [group: 'com.silenteight.sep.base', name: 'sep-base-common', version: silenteightSepBaseVersion]
libraries.silenteight_sep_base_testing = [group: 'com.silenteight.sep.base', name: 'sep-base-testing', version: silenteightSepBaseVersion]
libraries.silenteight_agents_protocol = [group: 'com.silenteight.agent.api', name: 'protocol-agents', version: agentsProtocolVersion]
libraries.warehouse_data_api = [group: 'com.silenteight.warehouse.api', name: 'se-data-api', version: warehouseProtocolVersion]
libraries.data_retention_api = [group: 'com.silenteight.sens.data-retention-api', name: 'data-retention-api', version: dataRetentionVersion]


// Spring
libraries.spring_aop = [group: 'org.springframework', name: 'spring-aop']
libraries.spring_aspects = [group: 'org.springframework', name: 'spring-aspects']
libraries.spring_beans = [group: 'org.springframework', name: 'spring-beans']
libraries.spring_context = [group: 'org.springframework', name: 'spring-context']
libraries.spring_context_support = [group: 'org.springframework', name: 'spring-context-support']
libraries.spring_core = [group: 'org.springframework', name: 'spring-core']
libraries.spring_expression = [group: 'org.springframework', name: 'spring-expression']
libraries.spring_instrument = [group: 'org.springframework', name: 'spring-instrument']
libraries.spring_jdbc = [group: 'org.springframework', name: 'spring-jdbc']
libraries.spring_messaging = [group: 'org.springframework', name: 'spring-messaging']
libraries.spring_orm = [group: 'org.springframework', name: 'spring-orm']
libraries.spring_retry = [group: 'org.springframework.retry', name: 'spring-retry']
libraries.spring_test = [group: 'org.springframework', name: 'spring-test']
libraries.spring_tx = [group: 'org.springframework', name: 'spring-tx']
libraries.spring_web = [group: 'org.springframework', name: 'spring-web']
libraries.spring_webmvc = [group: 'org.springframework', name: 'spring-webmvc']
libraries.spring_webflux = [group: 'org.springframework', name: 'spring-webflux']

libraries.spring_amqp = [group: 'org.springframework.amqp', name: 'spring-amqp']
libraries.spring_amqp_rabbit = [group: 'org.springframework.amqp', name: 'spring-rabbit']
libraries.spring_amqp_rabbit_test = [group: 'org.springframework.amqp', name: 'spring-rabbit-test']
libraries.spring_amqp_rabbit_junit = [group: 'org.springframework.amqp', name: 'spring-rabbit-junit']

libraries.spring_boot = [group: 'org.springframework.boot', name: 'spring-boot']
libraries.spring_boot_actuator = [group: 'org.springframework.boot', name: 'spring-boot-actuator']
libraries.spring_boot_autoconfigure = [group: 'org.springframework.boot', name: 'spring-boot-autoconfigure']
libraries.spring_boot_autoconfigure_processor = [group: 'org.springframework.boot', name: 'spring-boot-autoconfigure-processor']
libraries.spring_boot_configuration_processor = [group: 'org.springframework.boot', name: 'spring-boot-configuration-processor']
libraries.spring_boot_starter_actuator = [group: 'org.springframework.boot', name: 'spring-boot-starter-actuator']
libraries.spring_boot_starter_amqp = [group: 'org.springframework.boot', name: 'spring-boot-starter-amqp']
libraries.spring_boot_starter_data_jpa = [group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa']
libraries.spring_boot_starter_elasticsearch = [group: 'org.springframework.boot', name: 'spring-boot-starter-data-elasticsearch']
libraries.spring_boot_starter_integration = [group: 'org.springframework.boot', name: 'spring-boot-starter-integration']
libraries.spring_boot_starter_jdbc = [group: 'org.springframework.boot', name: 'spring-boot-starter-jdbc']
libraries.spring_boot_starter_logging = [group: 'org.springframework.boot', name: 'spring-boot-starter-logging']
libraries.spring_boot_starter_mail = [group: 'org.springframework.boot', name: 'spring-boot-starter-mail']
libraries.spring_boot_starter_oauth2_client = [group: 'org.springframework.boot', name: 'spring-boot-starter-oauth2-client']
libraries.spring_boot_starter_quartz = [group: 'org.springframework.boot', name: 'spring-boot-starter-quartz']
libraries.spring_boot_starter_undertow = [group: 'org.springframework.boot', name: 'spring-boot-starter-undertow']
libraries.spring_boot_starter_web = [group: 'org.springframework.boot', name: 'spring-boot-starter-web']
libraries.spring_boot_starter_webflux = [group: 'org.springframework.boot', name: 'spring-boot-starter-webflux']
libraries.spring_boot_starter_test = [group: 'org.springframework.boot', name: 'spring-boot-starter-test']
libraries.spring_boot_starter_security = [group: 'org.springframework.boot', name: 'spring-boot-starter-security']
libraries.spring_boot_test = [group: 'org.springframework.boot', name: 'spring-boot-test']
libraries.spring_boot_test_autoconfigure = [group: 'org.springframework.boot', name: 'spring-boot-test-autoconfigure']

libraries.spring_batch_core = [group: 'org.springframework.batch', name: 'spring-batch-core']
libraries.spring_batch_infrastructure = [group: 'org.springframework.batch', name: 'spring-batch-infrastructure']
libraries.spring_batch_starter = [group: 'org.springframework.boot', name: 'spring-boot-starter-batch']
libraries.spring_batch_test = [group: 'org.springframework.batch', name: 'spring-batch-test']

libraries.spring_cloud_consul_discovery = [group: 'org.springframework.cloud', name: 'spring-cloud-consul-discovery']
libraries.spring_cloud_dependencies = [group: 'org.springframework.cloud', name: 'spring-cloud-dependencies']
libraries.spring_cloud_starter_consul = [group: 'org.springframework.cloud', name: 'spring-cloud-starter-consul']
libraries.spring_cloud_starter_consul_config = [group: 'org.springframework.cloud', name: 'spring-cloud-starter-consul-config']
libraries.spring_cloud_starter_gateway = [group: 'org.springframework.cloud', name: 'spring-cloud-starter-gateway']
libraries.spring_cloud_starter_sleuth = [group: 'org.springframework.cloud', name: 'spring-cloud-starter-sleuth']
libraries.spring_cloud_test_support = [group: 'org.springframework.cloud', name: 'spring-cloud-test-support']

libraries.spring_data_commons = [group: 'org.springframework.data', name: 'spring-data-commons']
libraries.spring_data_jpa = [group: 'org.springframework.data', name: 'spring-data-jpa']
libraries.spring_data_elasticsearch = [group: 'org.springframework.data', name: 'spring-data-elasticsearch']

libraries.spring_integration_amqp = [group: 'org.springframework.integration', name: 'spring-integration-amqp']
libraries.spring_integration_core = [group: 'org.springframework.integration', name: 'spring-integration-core']
libraries.spring_integration_http = [group: 'org.springframework.integration', name: 'spring-integration-http']
libraries.spring_integration_mail = [group: 'org.springframework.integration', name: 'spring-integration-mail']
libraries.spring_integration_test = [group: 'org.springframework.integration', name: 'spring-integration-test']

libraries.spring_security_acl = [group: 'org.springframework.security', name: 'spring-security-acl']
libraries.spring_security_aspects = [group: 'org.springframework.security', name: 'spring-security-aspects']
libraries.spring_security_cas = [group: 'org.springframework.security', name: 'spring-security-cas']
libraries.spring_security_config = [group: 'org.springframework.security', name: 'spring-security-config']
libraries.spring_security_core = [group: 'org.springframework.security', name: 'spring-security-core']
libraries.spring_security_test = [group: 'org.springframework.security', name: 'spring-security-test']
libraries.spring_security_web = [group: 'org.springframework.security', name: 'spring-security-web']

// Project Reactor
libraries.reactor_adapter = [group: 'io.projectreactor.addons', name: 'reactor-adapter']
libraries.reactor_bom = [group: 'io.projectreactor', name: 'reactor-bom']
libraries.reactor_core = [group: 'io.projectreactor', name: 'reactor-core']
libraries.reactor_extra = [group: 'io.projectreactor.addons', name: 'reactor-extra']
libraries.reactor_rabbitmq = [group: 'io.projectreactor.rabbitmq', name: 'reactor-rabbitmq']
libraries.reactor_test = [group: 'io.projectreactor', name: 'reactor-test']

// APIs
libraries.jsr305 = [group: 'com.google.code.findbugs', name: 'jsr305']
libraries.jetbrains_annotations = [group: 'org.jetbrains', name: 'annotations']
libraries.slf4j_api = [group: 'org.slf4j', name: 'slf4j-api']

// Others
libraries.amqp_client = [group: 'com.rabbitmq', name: 'amqp-client']
libraries.antlr4 = [group: 'org.antlr', name: 'antlr4']
libraries.antlr4_runtime = [group: 'org.antlr', name: 'antlr4-runtime']
libraries.aspectjrt = [group: 'org.aspectj', name: 'aspectjrt', version: '1.9.7']
libraries.aspectjtools = [group: 'org.aspectj', name: 'aspectjtools', version: libraries.aspectjrt.version]
libraries.aspectjweaver = [group: 'org.aspectj', name: 'aspectjweaver']
libraries.awaitility = [group: 'org.awaitility', name: 'awaitility']
libraries.aws_apache_client = [group: 'software.amazon.awssdk', name: 'apache-client']
libraries.aws_auth = [group: 'software.amazon.awssdk', name: 'auth']
libraries.aws_s3 = [group: 'software.amazon.awssdk', name: 's3']
libraries.aws_ses = [group: 'software.amazon.awssdk', name: 'ses']
libraries.bouncycastle_bcmail = [group: 'org.bouncycastle', name: 'bcmail-jdk15on']
libraries.bouncycastle_bcpg = [group: 'org.bouncycastle', name: 'bcpg-jdk15on']
libraries.bouncycastle_bcpkix = [group: 'org.bouncycastle', name: 'bcpkix-jdk15on']
libraries.bouncycastle_bcprov = [group: 'org.bouncycastle', name: 'bcprov-jdk15on']
libraries.bouncycastle_bcprov_ext = [group: 'org.bouncycastle', name: 'bcprov-ext-jdk15on']
libraries.brave_instrumentation_grpc = [group: 'io.zipkin.brave', name: 'brave-instrumentation-grpc']
libraries.caffeine = [group: 'com.github.ben-manes.caffeine', name: 'caffeine']
libraries.caffeine_jcache = [group: 'com.github.ben-manes.caffeine', name: 'jcache']
libraries.commons_collections = [group: 'org.apache.commons', name: 'commons-collections4']
libraries.commons_lang3 = [group: 'org.apache.commons', name: 'commons-lang3']
libraries.commons_text = [group: 'org.apache.commons', name: 'commons-text']
libraries.ecs_logging_core = [group: 'co.elastic.logging', name: 'ecs-logging-core']
libraries.fastutil = [group: 'it.unimi.dsi', name: 'fastutil']
libraries.feign_slf4j = [group: "io.github.openfeign", name: "feign-slf4j"]
libraries.freemarker = [group: 'org.freemarker', name: 'freemarker']
libraries.grpc_api = [group: 'io.grpc', name: 'grpc-api']
libraries.grpc_auth = [group: 'io.grpc', name: 'grpc-auth']
libraries.grpc_client_spring_boot_starter = [group: 'net.devh', name: 'grpc-client-spring-boot-starter']
libraries.grpc_context = [group: 'io.grpc', name: 'grpc-context']
libraries.grpc_core = [group: 'io.grpc', name: 'grpc-core']
libraries.grpc_netty = [group: 'io.grpc', name: 'grpc-netty']
libraries.grpc_protobuf = [group: 'io.grpc', name: 'grpc-protobuf']
libraries.grpc_server_spring_boot_starter = [group: 'net.devh', name: 'grpc-server-spring-boot-starter']
libraries.grpc_services = [group: 'io.grpc', name: 'grpc-services']
libraries.grpc_spring_boot_starter = [group: 'net.devh', name: 'grpc-spring-boot-starter']
libraries.grpc_stub = [group: 'io.grpc', name: 'grpc-stub']
libraries.grpc_testing = [group: 'io.grpc', name: 'grpc-testing']
libraries.guava = [group: 'com.google.guava', name: 'guava']
libraries.hibernate_core = [group: 'org.hibernate', name: 'hibernate-core']
libraries.hibernate_envers = [group: 'org.hibernate', name: 'hibernate-envers']
libraries.hibernate_jcache = [group: 'org.hibernate', name: 'hibernate-jcache']
libraries.hibernate_types = [group: 'com.vladmihalcea', name: 'hibernate-types-52', version: '2.11.1']
libraries.hibernate_validator = [group: 'org.hibernate.validator', name: 'hibernate-validator']
libraries.hikari_cp = [group: 'com.zaxxer', name: 'HikariCP']
libraries.jackson_annotations = [group: 'com.fasterxml.jackson.core', name: 'jackson-annotations', version: jacksonVersion]
libraries.jackson_databind = [group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: jacksonVersion]
libraries.jackson_dataformat_csv = [group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-csv', version: jacksonVersion]
libraries.jackson_dataformat_xml = [group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-xml', version: jacksonVersion]
libraries.jackson_datatype_jdk8 = [group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jdk8']
libraries.jackson_datatype_jsr310 = [group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jsr310']
libraries.jackson_module_afterburner = [group: 'com.fasterxml.jackson.module', name: 'jackson-module-afterburner']
libraries.jackson_module_parameter_names = [group: 'com.fasterxml.jackson.module', name: 'jackson-module-parameter-names']
libraries.jackson_module_paranamer = [group: 'com.fasterxml.jackson.module', name: 'jackson-module-paranamer']
libraries.jakarta_annotation_api = [group: 'jakarta.annotation', name: 'jakarta.annotation-api']
libraries.jakarta_el = [group: 'org.glassfish', name: 'jakarta.el']
libraries.jakarta_inject = [group: 'jakarta.inject', name: 'jakarta.inject-api']
libraries.jakarta_mail = [group: 'com.sun.mail', name: 'jakarta.mail']
libraries.jakarta_mail_api = [group: 'jakarta.mail', name: 'jakarta.mail-api']
libraries.jakarta_persistence_api = [group: 'jakarta.persistence', name: 'jakarta.persistence-api']
libraries.jakarta_servlet_api = [group: 'jakarta.servlet', name: 'jakarta.servlet-api']
libraries.jakarta_transaction_api = [group: 'jakarta.transaction', name: 'jakarta.transaction-api']
libraries.jakarta_validation_api = [group: 'jakarta.validation', name: 'jakarta.validation-api']
libraries.javax_cache_api = [group: 'javax.cache', name: 'cache-api']
libraries.javax_mail = [group: 'javax.mail', name: 'mail', version: '1.4.1']
libraries.jaxb_api = [group: 'jakarta.xml.bind', name: 'jakarta.xml.bind-api']
libraries.jjwt = [group: 'io.jsonwebtoken', name: 'jjwt']
libraries.keycloak_spring_boot_starter = [group: 'org.keycloak', name: 'keycloak-spring-boot-starter']
libraries.liquibase_core = [group: 'org.liquibase', name: 'liquibase-core', version: '3.10.3']
libraries.liquibase_sessionlock = [group: 'com.github.blagerweij', name: 'liquibase-sessionlock', version: '1.4.0']
libraries.logback_access = [group: 'ch.qos.logback', name: 'logback-access']
libraries.logback_classic = [group: 'ch.qos.logback', name: 'logback-classic']
libraries.logback_ecs_encoder = [group: 'co.elastic.logging', name: 'logback-ecs-encoder', version: libraries.ecs_logging_core.version]
libraries.logstash_logback_encoder = [group: 'net.logstash.logback', name: 'logstash-logback-encoder', version: '6.6']
libraries.lz4_java = [group: 'org.lz4', name: 'lz4-java']
libraries.micrometer_core = [group: 'io.micrometer', name: 'micrometer-core']
libraries.micrometer_influx = [group: 'io.micrometer', name: 'micrometer-registry-influx']
libraries.micrometer_prometheus = [group: 'io.micrometer', name: 'micrometer-registry-prometheus']
libraries.opencsv = [group: 'com.opencsv', name: 'opencsv', version: '5.5.1']
libraries.oracle = [group: 'com.oracle', name: 'ojdbc8']
libraries.pebble = [group: 'io.pebbletemplates', name: 'pebble',version: '3.1.5']
libraries.postgresql = [group: 'org.postgresql', name: 'postgresql']
libraries.protobuf_java = [group: 'com.google.protobuf', name: 'protobuf-java']
libraries.protobuf_java_util = [group: 'com.google.protobuf', name: 'protobuf-java-util']
libraries.pw_swift_core = [group: 'com.prowidesoftware', name: 'pw-swift-core', version: 'SRU2020-9.1.8']
libraries.sentry = [group: 'io.sentry', name: 'sentry']
libraries.sentry_logback = [group: 'io.sentry', name: 'sentry-logback']
libraries.sentry_spring_boot_starter = [group: 'io.sentry', name: 'sentry-spring-boot-starter']
libraries.shedlock_core = [group: 'net.javacrumbs.shedlock', name: 'shedlock-core', version: shedlockVersion]
libraries.shedlock_jdbc_provider = [group: 'net.javacrumbs.shedlock', name: 'shedlock-provider-jdbc-template', version: shedlockVersion]
libraries.shedlock_spring = [group: 'net.javacrumbs.shedlock', name: 'shedlock-spring', version: shedlockVersion]
libraries.snakeyaml = [group: 'org.yaml', name: 'snakeyaml']
libraries.tomcat_embed_el = [group: 'org.apache.tomcat.embed', name: 'tomcat-embed-el']

// Testing
libraries.assertj_json = [group: 'com.revinate', name: 'assertj-json']
libraries.awaitility = [group: 'org.awaitility', name: 'awaitility', version: '4.1.0']
libraries.hamcrest = [group: 'org.hamcrest', name: 'hamcrest']
libraries.json_path = [group: 'com.jayway.jsonpath', name: 'json-path']
libraries.junit_jupiter_api = [group: 'org.junit.jupiter', name: 'junit-jupiter-api']
libraries.junit_jupiter_engine = [group: 'org.junit.jupiter', name: 'junit-jupiter-engine']
libraries.objenesis = [group: 'org.objenesis', name: 'objenesis']
libraries.rabbitmq_mock = [group: 'com.github.fridujo', name: 'rabbitmq-mock', version: '1.1.1']
libraries.spock_core = [group: 'org.spockframework', name: 'spock-core']
libraries.spock_spring = [group: 'org.spockframework', name: 'spock-spring']
libraries.test_containers = [group: 'org.testcontainers', name: 'testcontainers']
libraries.test_containers_junit_jupiter = [group: 'org.testcontainers', name: 'junit-jupiter']
libraries.test_containers_postgresql = [group: 'org.testcontainers', name: 'postgresql']
libraries.test_containers_spock = [group: 'org.testcontainers', name: 'spock']
libraries.test_greenmail = [group: 'com.icegreen', name: 'greenmail-junit5', version: '1.6.1']

// @formatter:on

configurations.all {
  exclude group: 'org.springframework.boot', module: 'spring-boot-starter-tomcat'

  resolutionStrategy {
    dependencySubstitution {
      substitute module("org.glassfish:javax.el") using module(
          "org.apache.tomcat.embed:tomcat-embed-el:9.0.55") because "Tomcat is a kitty"
      substitute module("org.glassfish:jakarta.el") using module(
          "org.apache.tomcat.embed:tomcat-embed-el:9.0.55") because "Tomcat is a kitty"
    }

    cacheChangingModulesFor 0, 'seconds'
    failOnVersionConflict()
    preferProjectModules()

    force libraries.aspectjrt
    force libraries.aspectjtools

    // Fix for running with JDK11
    force group: 'org.jboss.xnio', name: 'xnio-api', version: '3.7.12.Final'
    force group: 'org.jboss.xnio', name: 'xnio-nio', version: '3.7.12.Final'
  }
}

dependencies {
  implementation platform("io.projectreactor:reactor-bom:2020.0.13")
  implementation platform("com.silenteight.sep:sep-dependencies:$sepDependenciesVersion")
  annotationProcessor platform("com.silenteight.sep:sep-dependencies:$sepDependenciesVersion")
  implementation platform("org.springframework.boot:spring-boot-dependencies:$springBootVersion")
  annotationProcessor platform("org.springframework.boot:spring-boot-dependencies:$springBootVersion")
  implementation platform("org.springframework.cloud:spring-cloud-dependencies:$springCloudVersion")
  implementation platform("io.sentry:sentry-bom:5.6.0")

  implementation platform("software.amazon.awssdk:bom:2.17.46")
  implementation platform("org.keycloak.bom:keycloak-adapter-bom:15.0.2")

  implementation libraries.slf4j_api
}
