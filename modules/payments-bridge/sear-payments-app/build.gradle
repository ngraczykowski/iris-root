plugins {
  id "java"
  id "maven-publish"
  id "com.google.cloud.tools.jib"
  id "org.springframework.boot"
  id "java-library"
}

group 'com.silenteight'
version '1.0-SNAPSHOT'

repositories {
  mavenCentral()
}

dependencies {
  implementation project(":sear-payments-ae")

  implementation libraries.data_source_api
  implementation libraries.data_source_comments_api
  implementation libraries.data_source_categories_api
  implementation libraries.spring_security_web
  implementation 'org.springframework.integration:spring-integration-security'
  implementation 'org.springframework.boot:spring-boot-starter-security'
  implementation libraries.adjudication_engine_api
  implementation libraries.spring_boot_starter_web
  // Utilities
  implementation libraries.commons_lang3
  implementation libraries.commons_text
  implementation libraries.guava
  runtimeOnly libraries.ecs_logging_core
  runtimeOnly libraries.logback_ecs_encoder

  // Base Libraries
  implementation libraries.silenteight_sep_base_common
  implementation libraries.silenteight_commons_app

  // Application Starters
  implementation libraries.spring_boot_starter_actuator
  implementation libraries.spring_boot_starter_logging
  implementation libraries.spring_boot_starter_webflux
  implementation libraries.micrometer_prometheus

  // Spring Sleuth
  implementation libraries.spring_cloud_starter_sleuth

  // Validator
  implementation libraries.tomcat_embed_el
  implementation libraries.hibernate_validator

  // APIs
  implementation libraries.jakarta_persistence_api
  implementation libraries.jakarta_transaction_api

  // Messaging
  implementation libraries.amqp_client
  implementation libraries.lz4_java
  implementation libraries.spring_boot_starter_integration
  implementation libraries.spring_integration_amqp
  implementation libraries.spring_integration_core
  implementation libraries.spring_integration_http

  // GRPC
  implementation libraries.brave_instrumentation_grpc
  implementation libraries.grpc_server_spring_boot_starter
  implementation libraries.grpc_client_spring_boot_starter

  // AspectJ
  implementation libraries.aspectjrt
  aspect libraries.silenteight_sep_base_aspects

  // Testing
  testImplementation libraries.junit_jupiter_api
  testImplementation libraries.silenteight_sep_base_testing
  testImplementation libraries.adjudication_engine_api
  testImplementation libraries.awaitility
}

test {
  useJUnitPlatform()
}