plugins {
  id "groovy"
  id "com.silenteight.iris.build.spring-boot-application"
  id "com.silenteight.iris.build.container-image"
}

dependencies {
  // Project modules
  implementation project(":sear-payments-bridge-common")

  // Utilities
  implementation libs.commons.lang3
  implementation libs.commons.text
  implementation libs.guava

  // Logging
  runtimeOnly libs.ecs.logging.core
  runtimeOnly libs.logback.ecs.encoder

  // Application Starters
  implementation libs.spring.boot.starter.actuator
  implementation libs.spring.boot.starter.logging
  implementation libs.spring.boot.starter.webflux
  implementation libs.micrometer.prometheus

  // Cloud
  implementation libs.spring.cloud.consul.discovery
  implementation libs.spring.cloud.starter.consul.config
  implementation libs.spring.cloud.starter.gateway
  implementation libs.spring.cloud.starter.sleuth
}

jar {
  manifest {
    attributes "Main-Class": "com.silenteight.payments.apigateway.PaymentsApiGatewayApplication"
  }
}
