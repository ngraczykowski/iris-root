plugins {
  id "java-library"
  id "io.freefair.aspectj.post-compile-weaving"
}

description = "SENS WebApp Aspects"

dependencies {
  api libraries.aspectjrt
  api libraries.spring_aspects

  compileOnly libraries.micrometer_core
  testImplementation libraries.micrometer_core

  implementation libraries.spring_core
  implementation libraries.spring_context

  implementation libraries.spring_boot_autoconfigure
  annotationProcessor libraries.spring_boot_autoconfigure_processor
}

tasks.named(JavaPlugin.COMPILE_TEST_JAVA_TASK_NAME).configure { JavaCompile java ->
  java.ajc.options.aspectpath.from sourceSets.main.output.classesDirs
}
