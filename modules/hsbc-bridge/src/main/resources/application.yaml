silenteight.bridge:
  address: ${BRIDGE_ADDRESS:http://localhost:24802}
  grpc:
    port: 24803
    default-deadline: 20s
    recommendation-deadline: 5m
    adjudication-engine-address: static://localhost:24801
    governance-address: static://localhost:24205
    worldcheck-address: static://localhost:24813
    historical-decisions-model-address: static://localhost:24901
  http.port: 24802
  amqp:
    outgoing:
      model-persisted-exchange-name: bridge.model
      worldcheck-model-persisted-routing-key: persisted.external.worldcheck
      historical-decisions-model-persisted-routing-key: persisted.external.historical-decisions
      warehouse-exchange-name: bridge.command
      warehouse-routing-key: command.index-request.production
      watchlist-persisted-exchange-name: bridge.watchlist
      watchlist-persisted-routing-key: persisted
      is-pep-exchange-name: bridge.ispep
      is-pep-routing-key: ispep.ispep-learning-store-request.production
      historical-decision-exchange-name: bridge.historical
      historical-decision-routing-key: historical.historical-decisions-request.production
      data-retention-exchange-name: bridge.retention
      data-retention-routing-key: retention.data-retention
    ingoing:
      model-promoted-queue: bridge.model-promoted.production
      dead-letter-queue: bridge.dlq
      recommendations-queue: bridge.recommendations
      worldcheck-model-loaded-queue: bridge.model.loaded.worldcheck
      historical-decisions-model-loaded-queue: bridge.model.loaded.historical-decisions
      worldcheck-model-persisted-queue: bridge.model.persisted.internal.worldcheck
      historical-decisions-model-persisted-queue: bridge.model.persisted.internal.historical-decisions
  analysis:
    alert-timeout: 5m
  aws:
    accessKey: minioadmin
    buckets:
      modelBucketName: test
      watchlistBucketName: test
    region: US_EAST_1
    secretKey: minioadmin
    uri: http://127.0.0.1:9000
  data.retention:
    chunk: 500
    rate: 1d
    ### Enable one of retention type below
    personal-information-expired:
      enabled: false
      duration: ${RETENTION_PERIOD:151d}
    alerts-expired:
      enabled: false
      duration: ${RETENTION_PERIOD:2d}
  jenkins.api:
    crumbUri: ${CRUMB:https://jenkins.silenteight.com/crumbIssuer/api/json}
    password: ${JENKINS_PASSWORD:dev}
    username: ${JENKINS_USER:dev}
    updateModelStatusUri: ${UPDATE_MODEL_STATUS_URI:https://jenkins.silenteight.com/model/status}
    updateModelUri: ${UPDATE_MODEL_URI:https://jenkins.silenteight.com/model/update}

  nexus.api:
    password: ${NEXUS_PASSWORD:dev}
    username: ${NEXUS_USER:dev}
  recommendation:
    silent-eight-values:
      FALSE_POSITIVE: ACTION_FALSE_POSITIVE
      MANUAL_INVESTIGATION: ACTION_INVESTIGATE
      POTENTIAL_TRUE_POSITIVE: ACTION_POTENTIAL_TRUE_POSITIVE
    user-friendly-values:
      AAA_FALSE_POSITIVE: AAA False Positive
      LEVEL_1_REVIEW: Level 1 Review
      LEVEL_2_REVIEW: Level 2 Review
      LEVEL_3_REVIEW: Level 3 Review
  recommendations.queue: bridge.recommendations

  unpacker:
    path: ${UNPACKER_PATH:/tmp}

  alert:
    datetime:
      format: dd-MMM-yy
    decision:
      map:
        '[True Match Exit Completed]': analyst_decision_true_positive
        '[True Match Retained]': analyst_decision_true_positive
        '[PEP True Match]': analyst_decision_true_positive
        '[True Match Exit / Retained Recommended]': analyst_decision_true_positive
        '[False Positive]': analyst_decision_false_positive
        '[Level 1 Review]': analyst_decision_pending
        '[Level 2 Review]': analyst_decision_pending
        '[Level 3 Review]': analyst_decision_pending
        '[Isolated Level 1 / 2]': analyst_decision_pending
        '[Isolated Level 3]': analyst_decision_pending
        UNKNOWN: analyst_decision_unknown

  category:
    risk-type-values:
      SAN:
        - AE-MEWOLF
        - MENA-GREY
        - MEWOLF
        - MX-DARK-GREY
        - SAN
        - US-HBUS
      AML:
        - AML
        - CTF-P2
        - INNIA
        - MX-AML
        - MX-SHCP
      PEP:
        - PEP
      EXITS:
        - SCION
      SSC:
        - SSC

  comment:
    wl-types:
      SAN:
        - AE-MEWOLF
        - MENA-GREY
        - MEWOLF
        - MX-DARK-GREY
        - SAN
        - US-HBUS
      AML:
        - AML
        - CTF-P2
        - INNIA
        - MX-AML
        - MX-SHCP
      PEP:
        - PEP
      EXITS:
        - SCION
      SSC:
        - SSC

  ### Export model jobs (use "-" value for disabling the particular job)

  model:
    is-pep-historical-model-export.cron: "-"
    is-pep-procedural-model-export.cron: "-"
    name-model-export.cron: "-"

### GRPC

grpc:
  server.port: ${silenteight.bridge.grpc.port}
  client:
    GLOBAL.negotiation-type: PLAINTEXT
    adjudication-engine.address: ${silenteight.bridge.grpc.adjudication-engine-address}
    hsbc-worldcheck.address: ${silenteight.bridge.grpc.worldcheck-address}
    governance.address: ${silenteight.bridge.grpc.governance-address}
    historical-decisions-model.address: ${silenteight.bridge.grpc.historical-decisions-model-address}

### HTTP

server:
  port: ${silenteight.bridge.http.port}
  http2:
    enabled: true

spring:
  application.name: hsbc-bridge
  servlet.multipart:
    max-file-size: 1GB
    max-request-size: 1GB

  ### CONSUL

  cloud.consul:
    config.enabled: false
    enabled: true
    host: localhost
    port: 8500
    discovery:
      enabled: true
      register: false
      register-health-check: false
    service-registry.auto-registration.enabled: false

  ### DATABASE

  datasource:
    password: serp
    url: jdbc:postgresql://localhost:24881/hsbc_bridge
    username: serp
  jpa:
    hibernate.ddl-auto: none
    show-sql: false

  ### RABBIT

  rabbitmq:
    host: ${RABBITMQ_ADDRESS:localhost}
    password: ${RABBITMQ_PASSWORD:dev}
    port: ${RABBITMQ_AMQP_PORT:24160}
    username: ${RABBITMQ_USER:dev}

    listener:
      simple:
        retry:
          enabled: true
          initial-interval: 3000
          max-attempts: 3
          max-interval: 10000
          multiplier: 1.5
