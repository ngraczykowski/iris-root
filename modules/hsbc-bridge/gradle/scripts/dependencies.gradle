ext {
  libraries = [:]

  //***********************************
  // Silent Eight
  //***********************************
  adjudicationEngineApiVersion = "0.1.0-SNAPSHOT"
  governanceModelApiVersion = "1.3.0-SNAPSHOT"
  silenteightDataSourceApiVersion = "0.1.0-SNAPSHOT"
  warehouseApiVersion = "1.1.0-SNAPSHOT"
  worldCheckApiVersion = "0.1.0-SNAPSHOT"

  //***********************************
  // Dependency Versions
  //***********************************
  groovyVersion = '3.0.8'
  junitJupiterVersion = "5.6.0"
  mockitoVersion = "3.8.0"
  spockVersion = '2.0-groovy-3.0'
  springBootVersion = "2.4.2"
  springCloudVersion = "3.0.2"
  springRabbitVersion = "2.3.6"
  springVersion = "5.3.5"
}

// Silent Eight
libraries.adjudication_engine_api = [group: 'com.silenteight.adjudication.api', name: 'adjudication-api', version: adjudicationEngineApiVersion]
libraries.data_source_api = [group: 'com.silenteight.sens.date-source-api', name: 'data-source-api', version: silenteightDataSourceApiVersion]
libraries.data_source_categories_api = [group: 'com.silenteight.sens.date-source-api', name: 'data-source-categories-api', version: silenteightDataSourceApiVersion]
libraries.data_source_comments_api = [group: 'com.silenteight.sens.date-source-api', name: 'data-source-comments-api', version: silenteightDataSourceApiVersion]
libraries.silenteight_governance_model_api = [group: 'com.silenteight.governance.api', name: 'se-model-api', version: governanceModelApiVersion]
libraries.warehouse_api = [group: 'com.silenteight.warehouse.api', name: 'se-data-api', version: warehouseApiVersion]
libraries.worldcheck_api = [group: 'com.silenteight.worldcheck.api', name: 'protocol-world-check', version: worldCheckApiVersion]

// Spring
libraries.spring_aspects = [group: 'org.springframework', name: 'spring-aspects', version: springVersion]
libraries.spring_boot = [group: 'org.springframework.boot', name: 'spring-boot', version: springBootVersion]
libraries.spring_boot_actuator = [group: 'org.springframework.boot', name: 'spring-boot-starter-actuator', version: springBootVersion]
libraries.spring_boot_configuration_processor = [group: 'org.springframework.boot', name: 'spring-boot-configuration-processor', version: springBootVersion]
libraries.spring_boot_starter_security = [group: 'org.springframework.boot', name: 'spring-boot-starter-security', version: springBootVersion]
libraries.spring_boot_starter_undertow = [group: 'org.springframework.boot', name: 'spring-boot-starter-undertow',version: springBootVersion]
libraries.spring_boot_starter_validation = [group: 'org.springframework.boot', name: 'spring-boot-starter-validation', version: springBootVersion]
libraries.spring_boot_starter_web = [group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: springBootVersion]
libraries.spring_data_jpa = [group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa', version: springBootVersion]
libraries.spring_retry = [group: 'org.springframework.retry', name: 'spring-retry', version: '1.3.1']

// Spring Cloud
libraries.spring_cloud_starter_sleuth = [group: 'org.springframework.cloud', name: 'spring-cloud-starter-sleuth', version: springCloudVersion]

// Database
libraries.liquibase_core = [group: 'org.liquibase', name: 'liquibase-core', version: '4.3.1']
// fix for database lock on nomad
libraries.liquibase_sessionlock = [group: 'com.github.blagerweij', name: 'liquibase-sessionlock', version: '1.4.0']
libraries.postgresql = [group: 'org.postgresql', name: 'postgresql', version: '42.2.18']

// APIs
libraries.javax_validation_api = [group: 'javax.validation', name: 'validation-api', version: '2.0.1.Final']
libraries.slf4j_api = [group: 'org.slf4j', name: 'slf4j-api', version: '1.7.30']
libraries.commons_csv = [group: 'org.apache.commons', name: 'commons-csv', version: '1.8']

// OpenAPI & Swagger
libraries.springfox_oas = [group: 'io.springfox', name: 'springfox-oas', version: '3.0.0']

// JWT
libraries.jjwt = [group: 'io.jsonwebtoken', name: 'jjwt', version: '0.9.1']

// GRPC
libraries.grpc_spring_boot_starter = [group: 'io.github.lognet', name: 'grpc-spring-boot-starter', version: '4.4.5']
libraries.protobuf_util = [group: 'com.google.protobuf', name: 'protobuf-java-util', version: '3.15.6']

// Amazon
libraries.amazon_s3 = [group: 'software.amazon.awssdk', name: 's3', version: '2.16.61']
libraries.amazon_aws = [group: 'com.amazonaws', name: 'aws-java-sdk-s3', version: '1.11.1017']

// Others
libraries.commons_lang3 = [group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0']
libraries.lombok = [group: 'org.projectlombok', name: 'lombok', version: '1.18.18']
libraries.orika = [group: 'ma.glasnost.orika', name: 'orika-core', version: '1.5.4']
libraries.streamex = [group: 'one.util', name: 'streamex', version: '0.7.3']

// Messaging
libraries.spring_amqp = [group: 'org.springframework.amqp', name: 'spring-amqp', version: springRabbitVersion]
libraries.spring_amqp_starter = [group: 'org.springframework.boot', name: 'spring-boot-starter-amqp', version: springBootVersion]
libraries.spring_rabbit = [group: 'org.springframework.amqp', name: 'spring-rabbit', version: springRabbitVersion]

// Testing
libraries.groovy_all = [group: 'org.codehaus.groovy', name: 'groovy-all', version: groovyVersion]
libraries.junit_jupiter_api = [group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: junitJupiterVersion]
libraries.junit_jupiter_engine = [group: 'org.junit.jupiter', name: 'junit-jupiter-engine', version: junitJupiterVersion]
libraries.junit_jupiter_testcontainers = [group: 'org.testcontainers', name: 'junit-jupiter', version: '1.15.3']
libraries.localstack = [group: 'org.testcontainers', name: 'localstack', version: '1.15.3']
libraries.mockito_core = [group: 'org.mockito', name: 'mockito-core', version: mockitoVersion]
libraries.mockito_junit_jupiter = [group: 'org.mockito', name: 'mockito-junit-jupiter', version: mockitoVersion]
libraries.spock_core = [group: 'org.spockframework', name: 'spock-core', version: spockVersion]
libraries.spock_spring = [group: 'org.spockframework', name: 'spock-spring', version: spockVersion]
libraries.spring_rabbit_junit = [group: 'org.springframework.amqp', name: 'spring-rabbit-junit', version: springBootVersion]
libraries.spring_rabbit_test = [group: 'org.springframework.amqp', name: 'spring-rabbit-test', version: springBootVersion]
libraries.spring_starter_test = [group: 'org.springframework.boot', name: 'spring-boot-starter-test', version: springBootVersion]
libraries.spring_test = [group: 'org.springframework', name: 'spring-test', version: springVersion]
libraries.testcontainers = [group: 'org.testcontainers', name: 'testcontainers', version: '1.15.3']


configurations.all {
  exclude group: 'org.glassfish', module: 'javax.el'
  exclude group: 'org.springframework.boot', module: 'spring-boot-starter-tomcat'

  resolutionStrategy {
    failOnVersionConflict()
    preferProjectModules()
  }
}

dependencies {
  annotationProcessor libraries.lombok
  annotationProcessor libraries.spring_boot_configuration_processor
  compile libraries.commons_csv
  compile libraries.javax_validation_api
  compile libraries.springfox_oas
  compileOnly libraries.lombok
  implementation libraries.adjudication_engine_api
  implementation libraries.amazon_aws
  implementation libraries.amazon_s3
  implementation libraries.commons_lang3
  implementation libraries.data_source_api
  implementation libraries.data_source_categories_api
  implementation libraries.data_source_comments_api
  implementation libraries.grpc_spring_boot_starter
  implementation libraries.jjwt
  implementation libraries.liquibase_core
  implementation libraries.liquibase_sessionlock
  implementation libraries.orika
  implementation libraries.postgresql
  implementation libraries.protobuf_util
  implementation libraries.silenteight_governance_model_api
  implementation libraries.slf4j_api
  implementation libraries.spring_amqp
  implementation libraries.spring_amqp_starter
  implementation libraries.spring_aspects
  implementation libraries.spring_boot
  implementation libraries.spring_boot_actuator
  implementation libraries.spring_boot_starter_security
  implementation libraries.spring_boot_starter_undertow
  implementation libraries.spring_boot_starter_validation
  implementation libraries.spring_boot_starter_web
  implementation libraries.spring_cloud_starter_sleuth
  implementation libraries.spring_data_jpa
  implementation libraries.spring_rabbit
  implementation libraries.spring_retry
  implementation libraries.streamex
  implementation libraries.warehouse_api
  implementation libraries.worldcheck_api

  testAnnotationProcessor libraries.lombok
  testCompile libraries.groovy_all
  testCompile libraries.lombok
  testCompile libraries.spock_core
  testImplementation libraries.junit_jupiter_api
  testImplementation libraries.junit_jupiter_testcontainers
  testImplementation libraries.localstack
  testImplementation libraries.mockito_core
  testImplementation libraries.mockito_junit_jupiter
  testImplementation libraries.spock_spring
  testImplementation libraries.spring_starter_test
  testImplementation libraries.spring_test
  testImplementation libraries.testcontainers
  testRuntimeOnly libraries.junit_jupiter_engine
}

repositories {
  mavenCentral()
}

test {
  useJUnitPlatform()
}
