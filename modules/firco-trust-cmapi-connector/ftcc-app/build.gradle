plugins {
  id "java"
  id "groovy"
  id "org.springframework.boot"
  id "com.google.cloud.tools.jib"
}

dependencies {
  implementation project(":ftcc-ingest")

  // Utilities
//  implementation libraries.commons_lang3
//  implementation libraries.commons_text
//  implementation libraries.guava

  // Logging
//  runtimeOnly libraries.ecs_logging_core
//  runtimeOnly libraries.logback_ecs_encoder

  // Sentry
//  runtimeOnly libraries.sentry_spring_boot_starter
//  runtimeOnly libraries.sentry_logback

  // Base Libraries
  implementation libraries.silenteight_sep_base_common
//  implementation libraries.silenteight_commons_app

  // Application Starters
//  implementation libraries.spring_batch_starter
  implementation libraries.spring_boot_starter_actuator
  implementation libraries.spring_boot_starter_logging
  implementation libraries.spring_boot_starter_undertow
  implementation libraries.spring_boot_starter_web

  // Jackson
  implementation libraries.jackson_annotations
  implementation libraries.jackson_databind
  runtimeOnly libraries.jackson_datatype_jdk8
  runtimeOnly libraries.jackson_datatype_jsr310
  runtimeOnly libraries.jackson_module_afterburner
  runtimeOnly libraries.jackson_module_paranamer
  runtimeOnly libraries.jackson_module_parameter_names

  // Database
  implementation libraries.spring_boot_starter_data_jpa
  implementation libraries.spring_boot_starter_jdbc
  implementation libraries.liquibase_core
  implementation libraries.hikari_cp
  runtimeOnly libraries.postgresql
  runtimeOnly libraries.liquibase_sessionlock

  // Validator
  implementation libraries.hibernate_validator

  // Messaging
  implementation libraries.amqp_client
  implementation libraries.lz4_java
  implementation libraries.spring_boot_starter_integration
  implementation libraries.spring_integration_amqp
  implementation libraries.spring_integration_core
  implementation libraries.spring_integration_http
  implementation libraries.sear_rabbitmq_common_schema

  // Shedlock
//  implementation libraries.shedlock_spring
//  implementation libraries.shedlock_jdbc_provider

  testImplementation libraries.silenteight_sep_base_testing
}

jar {
  manifest {
    attributes "Main-Class": "com.silenteight.connector.ftcc.app.FtccApplication"
  }
}

publishing {
  publications {
    bootJava(MavenPublication) {
      artifact bootJar
    }
  }
}