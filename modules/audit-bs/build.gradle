plugins {
  id "idea"
  id "java-library"
  id "maven-publish"
  id "com.silenteight.gradle.wrapper" version "1.0.25"
  id "com.silenteight.gradle.release" version "1.0.9"
  id "com.silenteight.gradle.convention" version "1.14.0"
}

projectSetup {
  javaVersion = JavaVersion.VERSION_11
}

ext {
  libraries = [:]
  springBootVersion = "2.2.4.RELEASE"
}

repositories {
  mavenCentral()
}

libraries.platform_spring_boot = [group: 'org.springframework.boot', name: 'spring-boot-dependencies', version: springBootVersion]
libraries.spring_context = [group: 'org.springframework', name: 'spring-context']
libraries.spring_jdbc = [group: 'org.springframework', name: 'spring-jdbc']

libraries.hikari_cp = [group: 'com.zaxxer', name: 'HikariCP', version: '3.4.2']
libraries.javax_transaction_api = [group: 'javax.transaction', name: 'javax.transaction-api', version: '1.2']
libraries.liquibase_core = [group: 'org.liquibase', name: 'liquibase-core', version: '3.8.5']
libraries.postgresql = [group: 'org.postgresql', name: 'postgresql', version: '42.2.9']

dependencies {
  implementation platform(libraries.platform_spring_boot)

  api libraries.spring_context
  api libraries.spring_jdbc
  api libraries.javax_transaction_api

  testImplementation libraries.liquibase_core
  testImplementation libraries.hikari_cp
  testImplementation libraries.postgresql

  // TODO(ahaczewski): Add testcontainers and tests against PostgreSQL.
}
