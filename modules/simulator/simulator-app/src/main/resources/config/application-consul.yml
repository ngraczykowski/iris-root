spring:
  cloud:
    consul:
      discovery:
        enabled: ${serp.consul.discovery.enabled}
        scheme: ${serp.consul.protocol}
        health-check-path: ${server.servlet.context-path}${management.endpoints.web.base-path}/health
        instance-id: ${serp.consul.instance}
        prefer-ip-address: true
        tags:
          - "traefik.frontend.rule=PathPrefix: ${server.servlet.context-path}"
          - "traefik.protocol=${serp.server.protocol}"
          - "traefik.frontend.entryPoints=${serp.consul.traefik.entryPoints}"
          - "traefik.frontend.passTLSCert=${serp.consul.traefik.passTLSCert}"
          - "prometheus.metrics.path=${server.servlet.context-path}${management.endpoints.web.base-path}/prometheus"

        catalog-services-watch:
          enabled:  ${serp.consul.discovery.enabled}

        heartbeat:
          enabled: ${serp.consul.discovery.enabled}

grpc:
  client:
    adjudication-engine:
      address: discovery:///grpc-adjudication-engine

    governance:
      address: discovery:///grpc-governance
