plugins {
  id "com.silenteight.iris.build.java-library"
  id "maven-publish"
}

description = "SERP Common Testing"

dependencies {

  implementation platform('com.silenteight.iris.platform:test-platform')

  api libs.junit.jupiter.api
  api libs.spring.amqp.rabbit.test
  api libs.spring.test
  api libs.spring.boot.test
  api libs.spring.boot.test.autoconfigure
  api libs.spring.integration.test
  api libs.test.containers
  api libs.test.containers.spock
  api libs.grpc.testing
  api libs.reactor.test

  implementation libs.commons.lang3
  implementation libs.spring.aspects
  implementation libs.spring.amqp
  implementation libs.spring.jdbc
  implementation libs.spring.tx

  api libs.test.containers.elasticsearch
  api libs.test.containers.junit.jupiter
  api libs.test.containers.oracle.xe
  api libs.test.containers.postgresql

  implementation libs.grpc.stub
  implementation libs.protobuf.java.util
  implementation libs.bouncycastle.bcprov

  // NOTE(ahaczewski): There seems like there is a dependency cycle between sep-base-common
  //  and sep-base-testing, as both depend on each other, but it is not true, as sep-base-common
  //  depends on sep-base-testing in testImplementation configuration (i.e. is added
  //  to the testing classpath), while sep-base-testing depends non-transitively
  //  on sep-base-common in implementation configuration.
  implementation project(":sep-base-common")
}
