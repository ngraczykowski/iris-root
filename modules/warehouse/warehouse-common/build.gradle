plugins {
  id "com.silenteight.iris.build.java-library"
  id "java-test-fixtures"
}

description = "Warehouse Common"

dependencies {
  implementation libs.jakarta.validation.api
  implementation libs.silenteight.sep.base.common
  implementation libs.silenteight.commons.core
  implementation libs.sear.rabbitmq.common.schema

  implementation libs.spring.boot.actuator
  implementation libs.spring.boot.actuator.autoconfigure
  implementation libs.spring.data.jpa
  implementation libs.spring.security.config
  implementation libs.spring.security.web
  implementation libs.spring.webmvc

  implementation libs.javax.annotation.api
  // NOTE(dsniezek): Unfortunately, as parent of springdoc is spring-boot-starter-parent it brings
  //  incompatible versions of spring-boot-autoconfigure->spring-boot that have to be excluded for
  //  prevent conflict with version from spring-boot-dependencies.
  //  See: https://github.com/springdoc/springdoc-openapi/blob/v1.6.9/pom.xml#L35
  implementation(libs.springdoc.ui) {
    exclude group: 'org.springframework.boot', module: 'spring-boot-autoconfigure'
  }
  implementation(libs.springdoc.data.rest) {
    exclude group: 'org.springframework.boot', module: 'spring-boot-autoconfigure'
  }
  implementation(libs.springdoc.security) {
    exclude group: 'org.springframework.boot', module: 'spring-boot-autoconfigure'
  }
  implementation libs.protobuf.java.util
  implementation libs.apache.httpclient
  implementation libs.apache.httpmime

  testImplementation project(":warehouse-common-testing")
  testImplementation libs.awaitility
  testFixturesImplementation libs.aspectjrt
}
