plugins {
  id "java-library"
  id "java-test-fixtures"
}

description = "Warehouse Indexer"

configurations {
  implementation.extendsFrom starterCommon
  implementation.extendsFrom starterDatabase
  runtimeOnly.extendsFrom starterDatabaseRuntime
  implementation.extendsFrom starterMessaging

  testImplementation.extendsFrom starterSpringTest
}

dependencies {
  implementation project(":warehouse-common")
  implementation project(":warehouse-db-changelog")
  implementation libraries.silenteight_commons_core
  implementation libraries.silenteight_data_api
  implementation libraries.silenteight_sampling_alerts_api
  implementation libraries.spring_boot_starter_elasticsearch
  implementation libraries.spring_security_config
  implementation libraries.jakarta_validation_api
  implementation libraries.silenteight_sep_base_common
  implementation libraries.silenteight_file_storage_api

  implementation 'org.jooq:jooq:3.13.4'

  implementation libraries.test_containers_postgresql
  implementation libraries.test_containers_junit_jupiter

  testImplementation project(":warehouse-common-testing")
  testImplementation project(":warehouse-test-client")
  testImplementation libraries.awaitility

  testFixturesImplementation testFixtures(project(':warehouse-common'))
}
