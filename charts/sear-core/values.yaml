uds:
  nameOverride: universal-data-source
  image:
    repository: registry.dev.s8ops.com/uds/universal-data-source-app
    tag: "1.12.0-BUILD.59"
  resources:
    limits:
      memory: 1Gi
    requests:
      memory: 1Gi
  spring:
    webPath: uds
    args:
      - --spring.profiles.active=dev
    configFiles:
      application.yml: |
        spring:
          rabbitmq:
            host: rabbitmq

          autoconfigure:
            exclude: net.devh.boot.grpc.client.autoconfigure.GrpcClientHealthAutoConfiguration

          datasource:
            url: jdbc:postgresql://sear-core-test-postgres:5432/uds?sslmode=require&sslfactory=org.postgresql.ssl.NonValidatingFactory
    secrets:
      - secretName: sear-core-test-rabbitmq-default-user
        items:
          - key: host
            path: spring/rabbitmq/host
          - key: port
            path: spring/rabbitmq/port
          - key: username
            path: spring/rabbitmq/username
          - key: password
            path: spring/rabbitmq/password
      - secretName: uds.sear-core-test-postgres.credentials.postgresql.acid.zalan.do
        items:
          - key: username
            path: spring/datasource/username
          - key: password
            path: spring/datasource/password
