{{ if .Values.keycloak.internal }}
{{- range (.Values.keycloak.realmData).clients }}
---
kind: KeycloakClient
apiVersion: keycloak.org/v1alpha1
metadata:
  name: {{ include "sear.fullname" $ }}-{{ .client.clientId }}
  labels:
    client: {{ .client.clientId }}
    {{- include "sear.labels" $ | nindent 4 }}
  namespace: "keycloak-operator"
spec:
{{ (tpl ( . | toYaml) $ ) | indent 2 }}
  realmSelector:
    matchLabels:
      realm: {{ include "sear.fullname" $ }}-keycloak-realm
{{ end }}
{{ end }}
