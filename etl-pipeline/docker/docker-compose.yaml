version: '2.3'

services:
  java_playground:
    image: java_playground
    build:
      context: ../spark-manager
      dockerfile: ./docker/Dockerfile
      args:
        - PIP_INDEX_URL=$PIP_INDEX_URL
  anaconda_playground:
    build:
      context: ../anaconda
      dockerfile: Dockerfile
      args:
        - PIP_INDEX_URL=$PIP_INDEX_URL
    depends_on:
      - java_playground
    image: anaconda_playground
  jupyter_playground:
    build:
      context: ..
      dockerfile: docker/Dockerfile
      args:
        - PIP_INDEX_URL=$PIP_INDEX_URL
    image: jupyter_playground
    depends_on:
      - anaconda_playground
    volumes:
      - ..:/app
    ports:
      - "4444:8888" # jupyter notebook forward
    environment:
      - PYTHONPATH=.:python-datatoolbox