## This values file configures Foxtrot environment, with FAB Bridge(ftcc, dataprep, core-bridge)
##
components:
  ftcc:
    enabled: true
    profiles:
      - mockcallback
      - additional
    configFiles:
      application-additional.yml: |
        grpc:
          client:
            core-bridge:
              address: dns:///{{ include "sear.fullname" . }}-core-bridge.{{ .Release.Namespace }}.svc:9090

  dataprep:
    enabled: true

  core-bridge:
    enabled: true
    profiles:
      - consuldisabled

#TODO(dsniezek): agents copied from sierra for now
agents:
  name-agent:
    enabled: true
    profiles:
      - sierra
    resources:
      limits:
        memory: 2Gi
      requests:
        memory: 1Gi

  geo-agent:
    enabled: true
    profiles:
      - sierra
    args:
      - --geo.agent.facade.enabled=true
      - --geotransactions.agent.facade.enabled=true
    resources:
      limits:
        memory: 2Gi
      requests:
        memory: 1Gi

  geo-agent2:
    from: geo-agent
    properties:
      "facade.amqp.queueDefinitions[geo].inbound-exchange-name": "agent.request"
      "facade.amqp.queueDefinitions[geo].inbound-routing-key": "agents.geo.versions.2_0_0.configs.*"
      "facade.amqp.queueDefinitions[geo].inbound-queue-name": "agent.geo2-requests"
      "facade.amqp.queueDefinitions[geo].dead-letter-exchange-name": "geo2-agent-dead-letter-exchange"
      "facade.amqp.queueDefinitions[geo].dead-letter-queue-name": "geo2-agent-dead-letter-queue"
      "facade.amqp.queueDefinitions[geo].dead-letter-routing-key": "geo2-agent-dead-letter-key"
      "facade.amqp.queueDefinitions[geoSanctions].inbound-routing-key": "agents.geosanctions.versions.2_0_0.configs.*"
      "facade.amqp.queueDefinitions[geoSanctions].inbound-queue-name": "agent.geosanctions2-requests"
      "facade.amqp.queueDefinitions[geoSanctions].dead-letter-exchange-name": "geosanctions2-agent-dead-letter-exchange"
      "facade.amqp.queueDefinitions[geoSanctions].dead-letter-queue-name": "geosanctions2-agent-dead-letter-queue"
      "facade.amqp.queueDefinitions[geoSanctions].dead-letter-routing-key": "geosanctions2-agent-dead-letter-key"
      "facade.amqp.queueDefinitions[geoSanctions].outbound-exchange-name": "agent.response"
