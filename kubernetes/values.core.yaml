mailhog:
  resources:
    limits:
      memory: 128Mi
    requests:
      memory: 64Mi

common:
  image:
    pullPolicy: Always

  args:
    - --serp.show-env=true

  resources:
    limits:
      memory: 1Gi
    requests:
      memory: 1Gi

agentsCommon:
  properties:
    "agent.facade.enabled": true
  profiles:
    - rabbitmq-declare

components:
  adjudication-engine:
    profiles:
      - rabbitdeclare

  governance:
    profiles:
      - linux
      - governance
      - database
      - rabbitmq
      - messaging
      - sierra

  simulator:
    profiles:
      - linux
      - simulator
      - messaging
      - sierra

  webapp:
    profiles:
      - sierra

  warehouse:
    profiles:
      - linux
      - warehouse
      - messaging
      - sierra
    args:
      # FIXME(ahaczewski): Required to repeat configuration from `keycloak` below due to overwriting
      #  environment variable defined directly in the WebApp container image.
      - --keycloak.frontend-client-id=dev-frontend

    configFiles:
      application.yml: |
        warehouse:
          report:
            default-bucket: todo-add-bucket

        sep:
          filestorage:
            minio:
              privateKey: dummy
              accessKey: dummy
              url: https://todo-add-bucket.s3.eu-central-1.amazonaws.com
              region: eu-central-1

frontend:
  resources:
    limits:
      memory: 256Mi
    requests:
      memory: 128Mi

keycloak:
  authServerUrl: https://auth.silenteight.com
  realm: sens-webapp
  frontendClientId: dev-frontend
  jwtIssuerUri: "{{ .Values.keycloak.authServerUrl }}/realms/{{ .Values.keycloak.realm }}"
